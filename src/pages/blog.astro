---
import MainLayout from '../layouts/MainLayout.astro';
import SEO from '../components/SEO.astro';
import { getCollection } from 'astro:content';

const blog = await getCollection('blog');
---

<MainLayout>
    <SEO title="Blogs — Isaac Talb" description="Selected blogs and case studies by Isaac." />
    <section class="py-12">
        <h1 class="text-2xl font-bold">Blogs</h1>
        <div class="mt-6 grid gap-6 md:grid-cols-2">
            {blog.length === 0 ? (
                <p class="text-gray-600">No blogs yet — add markdown files to <code>src/content/blog</code>.</p>
            ) : (
                blog.map(p => (
                    <article class="border p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300 ease-in-out">
                        <a href={`/blog/${p.slug}`} class="group block">
                            <h3 class="font-semibold text-lg text-gray-900 group-hover:text-blue-600 underline decoration-blue-500 decoration-2 underline-offset-4 transition-colors duration-300">
                               # {p.data.title}
                            </h3>
                        </a>
                        <p class="mt-2 text-sm text-gray-600">{p.data.description}</p>

                        <div class="mt-4">
                            <a 
                                href={`/blog/${p.slug}`}  
                                rel="noopener noreferrer" 
                                class="inline-block px-4 py-2 rounded-lg bg-black border text-white font-medium text-sm hover:bg-white hover:text-black hover:border-black hover:scale-105 transform transition duration-300 ease-in-out shadow hover:shadow-lg"
                            >
                            Read More
                            </a>
                        </div>
                    </article>
                ))
            )}
        </div>
    </section>
</MainLayout>