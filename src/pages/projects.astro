---
import MainLayout from '../layouts/MainLayout.astro';
import SEO from '../components/SEO.astro';
import { getCollection } from 'astro:content';
import { PROJECTS } from '../config';

const projects = await getCollection('projects');
---
<MainLayout>
    <SEO metadata={PROJECTS} />

    <section class="py-12">
        <h1 class="text-2xl font-bold">Projects</h1>
        <div>
            <p class="mt-4 text-gray-600">Here are some of the projects I've worked on:</p>
            <!-- <span>You can also find them with tags on the <a href="/tags" class="text-blue-600 hover:underline">tags page</a>.</span> -->
        </div>
        
        <div class="mt-6 grid gap-6 md:grid-cols-2">
            {projects.length === 0 ? (
                <p class="text-gray-600">No projects yet â€” add markdown files to <code>src/content/projects</code>.</p>
            ) : (
                projects.map(p => (
                <article class="border p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300 ease-in-out">
                    {/* Title with underline and hover color */}
                    <a 
                        href={`/projects/${p.slug}`} 
                        class="group block"
                    >
                        <h3 class="font-semibold text-lg text-gray-900 group-hover:text-blue-600 underline decoration-blue-500 decoration-2 underline-offset-4 transition-colors duration-300">
                        # {p.data.title}
                        </h3>
                    </a>

                    {/* Description */}
                    <p class="mt-2 text-sm text-gray-600">{p.data.description}</p>

                    {/* Live Demo Button */}
                    <div class="mt-4">
                        {p.data.link ? (
                        <a 
                            href={p.data.link} 
                            target="_blank" 
                            rel="noopener noreferrer" 
                            class="inline-block px-4 py-2 rounded-lg bg-white border border-black text-black font-medium text-sm hover:bg-black hover:text-white hover:scale-105 transform transition duration-300 ease-in-out shadow hover:shadow-lg"
                        >
                            Live Demo
                        </a>
                        <span>&nbsp;</span>
                        <a 
                            href={`/projects/${p.slug}`} 
                            rel="noopener noreferrer" 
                            class="inline-block px-4 py-2 rounded-lg bg-black border text-white font-medium text-sm hover:bg-white hover:text-black hover:border-black hover:scale-105 transform transition duration-300 ease-in-out shadow hover:shadow-lg"
                        >
                           Read More
                        </a>
                        ) : null}
                    </div>
                </article>

                ))
            )}
        </div>
    </section>
</MainLayout>